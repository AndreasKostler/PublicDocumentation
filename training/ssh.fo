<root xmlns="http://www.w3.org/1999/XSL/Format"><layout-master-set><simple-page-master master-name="page-layout" page-height="29.7cm" page-width="21.0cm" margin="1.5cm"><region-body margin-bottom="3cm"/><region-after extent="2cm" region-name="footer"/></simple-page-master></layout-master-set><page-sequence master-reference="page-layout"><flow flow-name="xsl-region-body"><block><block font-weight="bold" font-size="25pt" text-align="center" space-before="19pt">ssh</block><block break-after="page"/></block></flow></page-sequence><page-sequence master-reference="page-layout"><static-content flow-name="footer"><block font-size="10.0pt" text-align="outside"><page-number/></block></static-content><flow flow-name="xsl-region-body"><list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><list-item><list-item-label end-indent="label-end()"><block font-size="10.0pt">1.</block></list-item-label><list-item-body start-indent="body-start()"><block font-size="10.0pt"><basic-link internal-destination="Setupautomaticlogintosshserver">Setup automatic login to ssh server</basic-link></block></list-item-body></list-item><list-item><list-item-label end-indent="label-end()"><block font-size="10.0pt">2.</block></list-item-label><list-item-body start-indent="body-start()"><block font-size="10.0pt"><basic-link internal-destination="havesshdrunonanotherport">have sshd run on another port</basic-link></block></list-item-body></list-item></list-block><block keep-with-next.within-column="always" font-weight="bold" font-size="15.0pt" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" id="Setupautomaticlogintosshserver">Setup automatic login to ssh server</block><block font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you don&#8217;t have a public/private key as reported by: </block><block hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-family="monospace"><block hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-family="monospace">[root@del ~]# cd ~; ls .ssh/id_rsa.pub
</block></block><block font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">if no id_rsa.pub then do...</block><block hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-family="monospace"><block hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-family="monospace">[root@del ~]# ssh-keygen -t rsa
</block></block><block font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Copy your public key to the server:</block><block hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-family="monospace"><block hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-family="monospace">[root@del ~]# scp .ssh/id_rsa.pub root@x61:/root/
</block></block><block font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Login to server and append the public key to the authorized_keys file by doing: </block><block hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-family="monospace"><block hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-family="monospace">[root@del ~]# ssh root@x61
[root@x61 ~]# cat id_rsa.pub &gt;&gt; .ssh/authorized_keys; chmod 600 .ssh/authorized_keys; rm -f id_rsa.pub 
</block></block></flow></page-sequence><page-sequence master-reference="page-layout"><static-content flow-name="footer"><block font-size="10.0pt" text-align="outside"><page-number/></block></static-content><flow flow-name="xsl-region-body"><block keep-with-next.within-column="always" font-weight="bold" font-size="15.0pt" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" id="havesshdrunonanotherport">have sshd run on another port</block><block font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Add line like: <block/>Port 10122<block/>to:<block/>/etc/ssh/sshd_config<block/>[root@proddb ssh]# service sshd reload</block><block font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">update firewall:<block/>To add a new port, run the following and<block/>	[root@ucm3 ~]# /usr/bin/system-config-securitylevel-tui<block/>Choose Customize,  add a line like: <block/>8888:tcp<block/>to the other ports section, OK, OK.<block/>	[root@ucm3 ~]# service iptables restart</block><block font-size="10.0pt" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">==&gt; Automatically log into servers:<block/>	&gt; If you haven&#8217;t already generated your key pair with: ssh-keygen -t rsa, do so.<block/>	&gt; grab the file: id_rsa.pub and get it into the server you want to auto ssh into, put it in<block/>	the root directory /root.<block/>	&gt; ssh into the host then do: <block/>cd /root/.ssh; cat ../id_rsa.pub &gt;&gt; authorized_keys; chmod 600 authorized_keys; rm -f ../id_rsa.pub</block></flow></page-sequence></root>